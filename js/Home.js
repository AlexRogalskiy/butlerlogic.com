import Config from"./config.js";var Home=new JET.Interface({selector:".butlerlogic.home",namespace:"home",references:{userStat:"section.stats .users.example .highlight",downloadsStat:"section.stats .downloads.example .highlight",starsStat:"section.stats .stars.example .highlight",productsGrid:"section.tech .products.grid",events:"section.research .bleeding-edge .events"},on:{initialized(){NGN.NET.json("../assets/data/product_statistics.json",(s,t)=>{if(s)return console.error(s);this.emit("stats.render",t.summary),this.emit("products.render",t)}),NGN.NET.json("../assets/data/meetup.json",(s,t)=>{s&&console.error(),this.emit("events.render",t)})},events:{render(s){var t="".concat("past"===s.status?"Recent":"Upcoming"," Meetups");this.renderHTML(this.refs.events,[["h3",[t]],["a",{class:"event",href:s.url,target:"_blank"},[["author-icon",{src:"assets/icons/calendar.svg"}],["div",{class:"details"},[["div",{class:"name"},[s.name]],["div",{class:"date"},[s.date.display]]]]]]])}},stats:{render(s){this.renderHTML(this.refs.userStat,[s.apps.toLocaleString()]),this.renderHTML(this.refs.downloadsStat,[s.libraries.toLocaleString()]),this.renderHTML(this.refs.starsStat,[s.stars.toLocaleString()])}},products:{render(s){var{apps:t,libraries:e,summary:a}=s;this.renderHTML(this.refs.productsGrid,Config.map((s,t)=>{var e=s.hasOwnProperty("products")?this.getGroupStats(...arguments,s.products):Home.getStats(...arguments,s);return["a",{class:[{last:t===Config.length-1},"product"],href:NGN.coalesce(s.url,"#"),target:"_blank"},[["header",[["div",{class:"title"},[s.name]],e.stars<250?["div",{class:"placeholder"},["New"]]:["div",{class:"stats"},[["div",{class:"stars stat"},[["author-icon",{src:"assets/icons/star.svg"}],["div",{class:"label"},[e.stars.toLocaleString()]]]],["div",{class:"downloads stat"},[["author-icon",{src:"assets/icons/download.svg"}],["div",{class:"label"},[e.downloads.toLocaleString()]]]]]]]],["p",{class:"description"},[s.description]]]]}))}}}});Home.getStats=function(s,t){var{apps:e,libraries:a}=s,r={downloads:0,stars:0};if(t.hasOwnProperty("library")&&(r.downloads+=a[t.library]),t.hasOwnProperty("app")){var o=e[t.app];o&&(r.downloads+=o.downloads,r.stars+=o.stars)}return r},Home.getGroupStats=function(s,t){return t.reduce((t,e)=>{var a=Home.getStats(s,e);return t.downloads+=a.downloads,t.stars+=a.stars,t},{downloads:0,stars:0})},JET.ready(()=>Home.initialize());